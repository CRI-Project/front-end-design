{"remainingRequest":"/Users/qiulihao/WebstormProjects/CRI-Project-front-end-design/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/qiulihao/WebstormProjects/CRI-Project-front-end-design/src/components/Module/Module1.vue?vue&type=style&index=0&id=2b7ff3b2&lang=scss&scoped=true&","dependencies":[{"path":"/Users/qiulihao/WebstormProjects/CRI-Project-front-end-design/src/components/Module/Module1.vue","mtime":1640420591229},{"path":"/Users/qiulihao/WebstormProjects/CRI-Project-front-end-design/node_modules/css-loader/dist/cjs.js","mtime":1638074900368},{"path":"/Users/qiulihao/WebstormProjects/CRI-Project-front-end-design/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1638074906194},{"path":"/Users/qiulihao/WebstormProjects/CRI-Project-front-end-design/node_modules/postcss-loader/src/index.js","mtime":1638074905772},{"path":"/Users/qiulihao/WebstormProjects/CRI-Project-front-end-design/node_modules/sass-loader/dist/cjs.js","mtime":1638075020410},{"path":"/Users/qiulihao/WebstormProjects/CRI-Project-front-end-design/node_modules/cache-loader/dist/cjs.js","mtime":1638074846295},{"path":"/Users/qiulihao/WebstormProjects/CRI-Project-front-end-design/node_modules/vue-loader/lib/index.js","mtime":1638074906194}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoubGluZUNoYXJ0MSB7CiAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDE4MGRlZywgI0I4RjFDQyAwJSwgcmdiYSgxODQsIDI0MSwgMjA0LCAwKSAxMDAlKTsKICBoZWlnaHQ6IDM5MnB4OwogIG1pbi13aWR0aDogMjUycHg7Cn0KCiN0aXRsZSB7CiAgbWFyZ2luLXRvcDogMjMuODFweDsKICBtYXJnaW4tbGVmdDogMzEuN3B4OwogIGZvbnQtZmFtaWx5OiBBbGliYWJhIFB1SHVpVGk7CiAgZm9udC1zaXplOiAxOHB4OwogIGZvbnQtc3R5bGU6IG5vcm1hbDsKICBmb250LXdlaWdodDogNDAwOwogIGxpbmUtaGVpZ2h0OiAyNXB4OwogIGxldHRlci1zcGFjaW5nOiAwZW07CiAgdGV4dC1hbGlnbjogbGVmdDsKfQoKI2xpbmVjaGFydDEgewogIG1hcmdpbjogMTQuMjhweCBhdXRvOwogIHdpZHRoOiA4NSU7CiAgaGVpZ2h0OiAyODYuMjNweDsKfQoKI2NoYXJ0IHsKICB3aWR0aDogMTAwJTsKICBoZWlnaHQ6IDM1MHB4Owp9CgoubGluZUNoYXJ0MiB7CiAgbWluLXdpZHRoOiA1MzlweDsKICBoZWlnaHQ6IDEzNXB4OwogIGJvcmRlci1yYWRpdXM6IDUwcHgKfQoKI3RlbXAgewogIG1hcmdpbi1sZWZ0OiAxMHB4OwogIGZvbnQtZmFtaWx5OiBBbGliYWJhIFB1SHVpVGk7CiAgZm9udC1zaXplOiA0MHB4OwogIGZvbnQtc3R5bGU6IG5vcm1hbDsKICBmb250LXdlaWdodDogNzAwOwogIGxpbmUtaGVpZ2h0OiA2NnB4OwogIGxldHRlci1zcGFjaW5nOiAwZW07CiAgdGV4dC1hbGlnbjogbGVmdDsKfQoKLnRpdGxlMiB7CiAgaGVpZ2h0OiAxNnB4OwogIHdpZHRoOiA4MHB4Owp9CgojYWlyUSB7CiAgaGVpZ2h0OiAyNnB4OwogIHdpZHRoOiAxMDVweDsKICBib3JkZXItcmFkaXVzOiAxMDBweDsKICBib3gtc2hhZG93OiAwcHggNHB4IDRweCAwcHggIzAwMDAwMDQwIGluc2V0OwogIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCg5MGRlZywgIzE3QUNBMyAwJSwgcmdiYSgxOTYsIDE5NiwgMTk2LCAwKSAxODIuODYlKTsKfQoKI2FpclEyIHsKICBoZWlnaHQ6IDI2cHg7CiAgd2lkdGg6IDEwNXB4OwogIGJvcmRlci1yYWRpdXM6IDEwMHB4OwogIGJveC1zaGFkb3c6IDBweCA0cHggNHB4IDBweCAjMDAwMDAwNDAgaW5zZXQ7CiAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDkwZGVnLCB0b21hdG8gMCUsIHJnYmEoMTk2LCAxOTYsIDE5NiwgMCkgMTgyLjg2JSk7Cn0KCi5xTGV2ZWwgewogIGhlaWdodDogMjZweDsKICB3aWR0aDogMzlweDsKICBjb2xvcjogd2hpdGU7CiAgZm9udC1mYW1pbHk6IEFsaWJhYmEgUHVIdWlUaTsKICBmb250LXNpemU6IDE4cHg7CiAgZm9udC1zdHlsZTogbm9ybWFsOwogIGZvbnQtd2VpZ2h0OiA5MDA7CiAgbGluZS1oZWlnaHQ6IDI1cHg7CiAgbGV0dGVyLXNwYWNpbmc6IDBlbTsKICB0ZXh0LWFsaWduOiBsZWZ0OwoKfQoKI2h1bUwgewogIGhlaWdodDogMjZweDsKICB3aWR0aDogMTA1cHg7CiAgYm9yZGVyLXJhZGl1czogMTAwcHg7CiAgYm94LXNoYWRvdzogMHB4IDRweCA0cHggMHB4ICMwMDAwMDA0MCBpbnNldDsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjFmMWYxOwp9CgojaExldmVsIHsKICBkaXNwbGF5OiBibG9jazsKICBjb2xvcjogd2hpdGU7CiAgaGVpZ2h0OiAyNnB4OwogIGJhY2tncm91bmQtY29sb3I6ICMxOTg5RkE7CiAgZm9udC1mYW1pbHk6IEFsaWJhYmEgUHVIdWlUaTsKICBmb250LXNpemU6IDE4cHg7CiAgZm9udC1zdHlsZTogbm9ybWFsOwogIGZvbnQtd2VpZ2h0OiA5MDA7CiAgbGluZS1oZWlnaHQ6IDI1cHg7CiAgbGV0dGVyLXNwYWNpbmc6IDBlbTsKICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgYm94LXNoYWRvdzogMHB4IDRweCA0cHggMHB4ICMwMDAwMDA0MCBpbnNldDsKfQoKLmxpbmVDaGFydDMgewogIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxODBkZWcsICNCOEYxRUQgMCUsIHJnYmEoMTg0LCAyNDEsIDIwNCwgMCkgMTAwJSk7CiAgbWFyZ2luLXRvcDogMTNweDsKICBoZWlnaHQ6IDI0M3B4OwogIGJveC1zaGFkb3c6IDBweCA0cHggNHB4IDBweCAjMDAwMDAwNDA7Cn0KCiNmb3JlY2FzdENoYXJ0IHsKICB3aWR0aDogMTAwJTsKICBoZWlnaHQ6IDI1MHB4Owp9Cg=="},{"version":3,"sources":["Module1.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsUA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"Module1.vue","sourceRoot":"src/components/Module","sourcesContent":["<template>\n<!--  -->\n  <v-card\n      style=\"border-radius: 50px; width: 2000px\"\n  >\n    <v-row>\n      <v-col\n          cols=\"12\"\n          sm=\"1\"\n      ></v-col>\n      <v-col\n          cols=\"12\"\n          sm=\"3\"\n      >\n        <v-menu\n            ref=\"menu\"\n            :close-on-content-click=\"true\"\n            min-width=\"auto\"\n            offset-y\n            transition=\"scale-transition\"\n        >\n          <template v-slot:activator=\"{ on, attrs }\">\n            <v-text-field\n                v-model=\"date\"\n                class=\"picker\"\n                label=\"Date:\"\n                outlined\n                readonly\n                v-bind=\"attrs\"\n                v-on=\"on\"\n            ></v-text-field>\n          </template>\n          <v-date-picker\n              v-model=\"date\"\n              no-title\n              scrollable\n          >\n          </v-date-picker>\n        </v-menu>\n      </v-col>\n      <v-col\n          cols=\"12\"\n          sm=\"3\"\n      >\n        <v-select\n            label=\"Area:\"\n            outlined\n        >\n        </v-select>\n      </v-col>\n      <v-col\n          cols=\"12\"\n          sm=\"3\"\n      >\n        <v-text-field\n            v-model=\"searchKey\"\n            label=\"ID:\"\n            outlined\n        >\n        </v-text-field>\n      </v-col>\n      <v-col>\n        <v-btn style=\"background-color: #17ACA3; color: white; width: 100px; height: 40px; margin-top: 8px\"\n               @click=\"query\">\n          QUERY\n        </v-btn>\n      </v-col>\n    </v-row>\n    <!--        <line-chart2></line-chart2>-->\n    <!--        <line-chart3></line-chart3>-->\n    <v-row>\n      <v-col>\n        <v-container>\n          <v-card class=\"lineChart1\"\n                  style=\"border-radius: 50px\"\n          >\n            <v-row>\n              <v-container id=\"linear1\" style=\"margin: 29px auto\">\n                <div id=\"chart\"></div>\n              </v-container>\n            </v-row>\n          </v-card>\n        </v-container>\n      </v-col>\n      <v-col>\n        <v-container>\n          <v-card class=\"lineChart2\"\n                  style=\"border-radius: 50px\"\n                  v-bind:style=\"{background: this.weather.color}\"\n          >\n            <v-row>\n              <v-col\n                  cols=\"12\"\n                  sm=\"3\"\n              >\n                <v-container>\n          <span id=\"temp\">{{ this.temp }}\n          </span>\n                </v-container>\n              </v-col>\n              <v-col\n                  cols=\"12\"\n                  sm=\"6\"\n              >\n                <v-container>\n                  <v-row>\n                    <v-container>\n                      <v-row>\n                        <v-col>\n                          <span class=\"title2\">Air Quality</span>\n                        </v-col>\n                        <v-col>\n                          <v-card v-if=\"this.ppm<500\" id=\"airQ\" align=\"center\">\n                            <span class=\"qLevel\">BEST</span>\n                          </v-card>\n                          <v-card v-else id=\"airQ2\" align=\"center\">\n                            <span class=\"qLevel\">BAD</span>\n                          </v-card>\n                        </v-col>\n                      </v-row>\n                    </v-container>\n                  </v-row>\n                  <v-row>\n                    <v-container>\n                      <v-row>\n                        <v-col>\n                          <span class=\"title2\">Humidity</span>\n                        </v-col>\n                        <v-col>\n                          <v-card id=\"humL\" align=\"left\" v-bind:style=\"{width: this.humWidth}\">\n                            <span id=\"hLevel\">{{ this.hum }}</span>\n                          </v-card>\n                        </v-col>\n                      </v-row>\n                    </v-container>\n                  </v-row>\n                </v-container>\n              </v-col>\n              <v-col align-self=\"center\">\n                <v-img v-if=\"this.weatherVal==='多云' || this.weatherVal==='晴'\" src=\"@/assets/images/Home/Sun.png\"\n                       style=\"width: 88px; height: 68px\"></v-img>\n                <v-img v-else src=\"@/assets/images/Home/rain.png\" style=\"width: 90px; height: 88px\"></v-img>\n              </v-col>\n            </v-row>\n          </v-card>\n          <v-container class=\"lineChart3\" style=\"border-radius: 50px\">\n            <div id=\"forecastChart\" style=\"margin-top: 20px\"></div>\n          </v-container>\n        </v-container>\n      </v-col>\n    </v-row>\n  </v-card>\n</template>\n\n<script>\nimport * as echarts from 'echarts';\nimport {getList, getWeather} from \"../../api/homeAPI\";\n\n\nexport default {\n  name: \"Module1\",\n  data() {\n    return {\n      searchKey: \"\",\n      URL: \"/generator/sensordatatest/testInfo/\",\n      temp: 0,\n      hum: 0,\n      ppm: 0,\n      date: '',\n      picker: '',\n      dataNow: {},\n      timer: null,\n      weatherVal: '',\n      page: 1,\n      sensorData:[],\n    }\n  },\n  computed: {\n    humWidth: function () {\n      const width = (this.hum / 100) * 105\n      return width + \"px\"\n    },\n    weather: function () {\n      const weatherCom = {\n        color: 'linear-gradient(180deg, #F1F1B8 0%, rgba(255, 255, 255, 0) 100%)',\n        src: '@/assets/images/Home/Sun.png'\n      }\n      if (this.weatherVal === '多云' || this.weatherVal === '晴') {\n        weatherCom.color = 'linear-gradient(180deg, #F1F1B8 0%, rgba(255, 255, 255, 0) 100%)'\n        weatherCom.src = '@/assets/images/Home/Sun.png'\n      } else {\n        weatherCom.color = 'linear-gradient(180deg, #569AFF 0%, rgba(255, 255, 255, 0) 100%)'\n        weatherCom.src = '@/assets/images/Home/rain.png'\n      }\n      return weatherCom\n    }\n  },\n  methods: {\n    query() {\n      getList().then(res => {\n        this.sensorData.push(res.data)\n        if(this.sensorData.length > 7) {\n          this.sensorData.shift();\n        }\n        console.log(this.sensorData)\n        this.dataNow = res.data\n        this.temp = this.dataNow.temperature\n        this.hum = this.dataNow.humidity\n        this.ppm = this.dataNow.ppm\n        this.initBarChart()\n      }).catch(err => {\n        console.log(err)\n      })\n    },\n    initBarChart() {\n      let xAxisData = []\n      let seriesTemp = []\n      let seriesHum = []\n      let seriesPpm = []\n      for (let i = this.sensorData.length - 1; i >= 0; i--) {\n        let item = this.sensorData[i]\n        console.log(this.sensorData[i])\n        xAxisData[i] = item.dateTime\n        seriesTemp[i] = item.temperature\n        seriesHum[i] = item.humidity\n        seriesPpm[i] = item.ppm\n      }\n      const option = {\n        title: {\n          text: 'Real Time Sensor Data Display',\n          x: 'center'\n        },\n        tooltip: {},\n        xAxis: {\n          type: 'category',\n          data: xAxisData\n        },\n        yAxis: {\n          type: 'value'\n        },\n        series: [\n          {\n            name: 'Temperature',\n            data: seriesTemp,\n            type: 'bar'\n          },\n          {\n            name: 'Humidity',\n            data: seriesHum,\n            type: 'bar'\n          },\n          {\n            name: 'CO2',\n            data: seriesPpm,\n            type: 'bar'\n          }\n        ]\n      }\n      var myChart = echarts.init(document.getElementById('chart'));\n      myChart.setOption(option);\n    },\n    initLineChart(data) {\n      let xAxisData = []\n      let seriesHigh = []\n      let seriesLow = []\n      for (let i = 0; i < data.forecast.length; i++) {\n        xAxisData.push(data.forecast[i].date)\n        seriesHigh.push(data.forecast[i].high.slice(3, 5))\n        seriesLow.push(data.forecast[i].low.slice(3, 5))\n      }\n\n      const option = {\n        title: {\n          text: data.city + \": \" + data.ganmao,\n          x: 'center'\n        },\n        tooltip: {},\n        xAxis: {\n          type: 'category',\n          data: xAxisData\n        },\n        yAxis: {\n          type: 'value'\n        },\n        series: [\n          {\n            name: 'low',\n            data: seriesLow,\n            type: 'line'\n          },\n          {\n            name: 'High',\n            data: seriesHigh,\n            type: 'line'\n          },\n        ]\n      }\n      var myChart = echarts.init(document.getElementById('forecastChart'));\n      myChart.setOption(option);\n    },\n    weatherGet() {\n      getWeather().then(res => {\n        this.weatherVal = res.data.data.forecast[0].type\n        console.log(res.data.data)\n        this.initLineChart(res.data.data)\n      })\n    },\n  },\n  mounted() {\n    this.weatherGet()\n    this.query()\n    this.timer = setInterval(() => {\n      setTimeout(this.query, 0)\n    }, 1000 * 6)\n    this.timer = setInterval(() => {\n      setTimeout(this.weatherGet, 0)\n    }, 1000 * 60)\n  },\n  beforeDestroy() {\n    clearInterval(this.timer);\n    this.timer = null;\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.lineChart1 {\n  background: linear-gradient(180deg, #B8F1CC 0%, rgba(184, 241, 204, 0) 100%);\n  height: 392px;\n  min-width: 252px;\n}\n\n#title {\n  margin-top: 23.81px;\n  margin-left: 31.7px;\n  font-family: Alibaba PuHuiTi;\n  font-size: 18px;\n  font-style: normal;\n  font-weight: 400;\n  line-height: 25px;\n  letter-spacing: 0em;\n  text-align: left;\n}\n\n#linechart1 {\n  margin: 14.28px auto;\n  width: 85%;\n  height: 286.23px;\n}\n\n#chart {\n  width: 100%;\n  height: 350px;\n}\n\n.lineChart2 {\n  min-width: 539px;\n  height: 135px;\n  border-radius: 50px\n}\n\n#temp {\n  margin-left: 10px;\n  font-family: Alibaba PuHuiTi;\n  font-size: 40px;\n  font-style: normal;\n  font-weight: 700;\n  line-height: 66px;\n  letter-spacing: 0em;\n  text-align: left;\n}\n\n.title2 {\n  height: 16px;\n  width: 80px;\n}\n\n#airQ {\n  height: 26px;\n  width: 105px;\n  border-radius: 100px;\n  box-shadow: 0px 4px 4px 0px #00000040 inset;\n  background: linear-gradient(90deg, #17ACA3 0%, rgba(196, 196, 196, 0) 182.86%);\n}\n\n#airQ2 {\n  height: 26px;\n  width: 105px;\n  border-radius: 100px;\n  box-shadow: 0px 4px 4px 0px #00000040 inset;\n  background: linear-gradient(90deg, tomato 0%, rgba(196, 196, 196, 0) 182.86%);\n}\n\n.qLevel {\n  height: 26px;\n  width: 39px;\n  color: white;\n  font-family: Alibaba PuHuiTi;\n  font-size: 18px;\n  font-style: normal;\n  font-weight: 900;\n  line-height: 25px;\n  letter-spacing: 0em;\n  text-align: left;\n\n}\n\n#humL {\n  height: 26px;\n  width: 105px;\n  border-radius: 100px;\n  box-shadow: 0px 4px 4px 0px #00000040 inset;\n  background-color: #f1f1f1;\n}\n\n#hLevel {\n  display: block;\n  color: white;\n  height: 26px;\n  background-color: #1989FA;\n  font-family: Alibaba PuHuiTi;\n  font-size: 18px;\n  font-style: normal;\n  font-weight: 900;\n  line-height: 25px;\n  letter-spacing: 0em;\n  text-align: center;\n  box-shadow: 0px 4px 4px 0px #00000040 inset;\n}\n\n.lineChart3 {\n  background: linear-gradient(180deg, #B8F1ED 0%, rgba(184, 241, 204, 0) 100%);\n  margin-top: 13px;\n  height: 243px;\n  box-shadow: 0px 4px 4px 0px #00000040;\n}\n\n#forecastChart {\n  width: 100%;\n  height: 250px;\n}\n</style>"]}]}