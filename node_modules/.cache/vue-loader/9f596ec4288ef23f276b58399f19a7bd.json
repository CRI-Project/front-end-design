{"remainingRequest":"/Users/qiulihao/WebstormProjects/CRI-Project-front-end-design/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/qiulihao/WebstormProjects/CRI-Project-front-end-design/src/views/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/qiulihao/WebstormProjects/CRI-Project-front-end-design/src/views/Login.vue","mtime":1640437016494},{"path":"/Users/qiulihao/WebstormProjects/CRI-Project-front-end-design/node_modules/cache-loader/dist/cjs.js","mtime":1638074846295},{"path":"/Users/qiulihao/WebstormProjects/CRI-Project-front-end-design/node_modules/babel-loader/lib/index.js","mtime":1638074846154},{"path":"/Users/qiulihao/WebstormProjects/CRI-Project-front-end-design/node_modules/cache-loader/dist/cjs.js","mtime":1638074846295},{"path":"/Users/qiulihao/WebstormProjects/CRI-Project-front-end-design/node_modules/vue-loader/lib/index.js","mtime":1638074906194}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7bG9naW5BUEl9IGZyb20gIi4uL2FwaS9sb2dpbkFQSSIKaW1wb3J0IFJlZ2lzdGVyIGZyb20gIi4uL2NvbXBvbmVudHMvUmVnaXN0ZXIiOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJMb2dpbiIsCiAgY29tcG9uZW50czogewogICAgUmVnaXN0ZXIKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBtaWRkbGVDbG91ZDogcmVxdWlyZSgiLi4vYXNzZXRzL2ltYWdlcy9sb2dpbi9taWRkbGVfY2xvdWQucG5nIiksCiAgICAgIHJpZ2h0Q2xvdWQ6IHJlcXVpcmUoIi4uL2Fzc2V0cy9pbWFnZXMvbG9naW4vcmlnaHRfY2xvdWQucG5nIiksCiAgICAgIGxvZ286IHJlcXVpcmUoIi4uL2Fzc2V0cy9pbWFnZXMvbG9naW4vbG9nb18xLnBuZyIpLAogICAgICBlYXJ0aDogcmVxdWlyZSgiLi4vYXNzZXRzL2ltYWdlcy9sb2dpbi9lYXJ0aC5wbmciKSwKICAgICAgd2VsY29tZTogIldlbGNvbWUgXG4gdG8gXG4gQ2xpbWF0ZSBSZXNwb25zZSBJcmVsYW5kIiwKICAgICAgZ21haWw6ICJsb2dpbiB3aXRoIGdtYWlsIiwKICAgICAgbG9nSW5CdXR0b246ICJsb2cgaW4iLAogICAgICBzaWRlOiAicnRsIiwKICAgICAgbG9naW5Gb3JtOiB7CiAgICAgICAgdXNlcm5hbWU6ICIiLAogICAgICAgIHBhc3N3b3JkOiAiIgogICAgICB9LAogICAgICBsb2dpblJ1bGVzOiB7CiAgICAgICAgdXNlcm5hbWU6IFsKICAgICAgICAgIHtyZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ0VudGVyIFVzZXJuYW1lJywgdHJpZ2dlcjogJ2JsdXInfSwKICAgICAgICAgIHttaW46IDEsIG1heDogMjAsIG1lc3NhZ2U6ICdVc2VybmFtZSBiZXR3ZWVuIDEgLSAyMCBsb25nJywgdHJpZ2dlcjogJ2JsdXInfQogICAgICAgIF0sCiAgICAgICAgcGFzc3dvcmQ6IFsKICAgICAgICAgIHtyZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ0VudGVyIFBhc3N3b3JkJywgdHJpZ2dlcjogJ2JsdXInfSwKICAgICAgICAgIHttaW46IDEsIG1heDogMTAsIG1lc3NhZ2U6ICdVc2VybmFtZSBiZXR3ZWVuIDEgLSAxMCBsb25nJywgdHJpZ2dlcjogJ2JsdXInfQogICAgICAgIF0KICAgICAgfSwKICAgICAgaXNSZWdpc3RlcjogZmFsc2UKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGxvZ2luKCkgewogICAgICB0aGlzLiRyZWZzLmxvZ2luRm9ybVJlZi52YWxpZGF0ZShhc3luYyB2YWxpZCA9PiB7CiAgICAgICAgaWYgKCF2YWxpZCkgcmV0dXJuOwogICAgICAgIGxvZ2luQVBJKHRoaXMubG9naW5Gb3JtKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICBpZihyZXMuZGF0YS5jb2RlID09PSA1MDApIHsKICAgICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ21lc3NhZ2Uvb3BlblNuYWNrYmFyJywgewogICAgICAgICAgICAgIG1zZzogcmVzLmRhdGEubXNnLAogICAgICAgICAgICAgIGNvbG9yOiAnd2FybmluZycsCiAgICAgICAgICAgIH0pCiAgICAgICAgICB9ZWxzZSB7CiAgICAgICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdtZXNzYWdlL29wZW5TbmFja2JhcicsIHsKICAgICAgICAgICAgICBtc2c6IHJlcy5kYXRhLm1zZywKICAgICAgICAgICAgICBjb2xvcjogJ3N1Y2Nlc3MnLAogICAgICAgICAgICB9KQogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL21haW4iKQogICAgICAgICAgfQogICAgICAgIH0pLmNhdGNoKGVyciA9PiB7CiAgICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnbWVzc2FnZS9vcGVuU25hY2tiYXInLCB7CiAgICAgICAgICAgIG1zZzogZXJyLAogICAgICAgICAgICBjb2xvcjogJ2Vycm9yJywKICAgICAgICAgIH0pCiAgICAgICAgfSkKICAgICAgfSkKICAgIH0sCiAgICByZWdpc3RlcigpewogICAgICB0aGlzLmlzUmVnaXN0ZXIgPSB0cnVlCiAgICB9LAogICAgY2xvc2UoKXsKICAgICAgdGhpcy5pc1JlZ2lzdGVyID0gZmFsc2UKICAgIH0KICB9LAp9Cg=="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkDA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <v-app class=\"login-main teal accent-4\">\n    <div class=\"login-left-top\">\n      <div class=\"login-left-cloud\">\n        <img :src=\"rightCloud\" alt=\"right_cloud\">\n      </div>\n      <div class=\"login-right-cloud\">\n        <img :src=\"middleCloud\" alt=\"middle_cloud\">\n      </div>\n    </div>\n    <div class=\"login-left-bottom\">\n      <div class=\"login-welcome-text\">\n        {{ welcome }}\n      </div>\n      <div class=\"login-earth\">\n        <img :src=\"earth\" alt=\"earth\">\n      </div>\n    </div>\n    <div class=\"login-right\">\n      <div class=\"login-box\"></div>\n      <div class=\"login-logo\">\n        <img :src=\"logo\" alt=\"CRI_logo\">\n      </div>\n      <div class=\"other-way-to-login\">\n        <div class=\"login-Gmail-bg\"></div>\n        <div class=\"login-Gmail-button\">{{ gmail }}</div>\n      </div>\n      <el-form class=\"login-input-box\" :model=\"loginForm\" ref=\"loginFormRef\" :rules=\"loginRules\" label-width=\"80px\">\n        <el-form-item label=\"Account:\" class=\"login-account-box\" prop=\"username\">\n          <el-input type=\"text\" id=\"account\" v-model=\"loginForm.username\"/>\n        </el-form-item>\n        <el-form-item label=\"Password:\" class=\"login-password-box\" prop=\"password\">\n          <el-input type=\"password\" id=\"password\" v-model=\"loginForm.password\"/>\n        </el-form-item>\n      </el-form>\n      <button class=\"login-button\" @click=\"login\">{{ logInButton }}</button>\n      <button class=\"register-button\" @click=\"register\">REGISTER</button>\n      <el-drawer\n          title=\"register\"\n          size='35%'\n          :visible.sync=\"isRegister\"\n          :direction=\"side\"\n          :with-header=\"false\">\n        <register @handleClose = \"close\"/>\n      </el-drawer>\n    </div>\n  </v-app>\n</template>\n\n<script>\nimport {loginAPI} from \"../api/loginAPI\"\nimport Register from \"../components/Register\";\n\nexport default {\n  name: \"Login\",\n  components: {\n    Register\n  },\n  data() {\n    return {\n      middleCloud: require(\"../assets/images/login/middle_cloud.png\"),\n      rightCloud: require(\"../assets/images/login/right_cloud.png\"),\n      logo: require(\"../assets/images/login/logo_1.png\"),\n      earth: require(\"../assets/images/login/earth.png\"),\n      welcome: \"Welcome \\n to \\n Climate Response Ireland\",\n      gmail: \"login with gmail\",\n      logInButton: \"log in\",\n      side: \"rtl\",\n      loginForm: {\n        username: \"\",\n        password: \"\"\n      },\n      loginRules: {\n        username: [\n          {required: true, message: 'Enter Username', trigger: 'blur'},\n          {min: 1, max: 20, message: 'Username between 1 - 20 long', trigger: 'blur'}\n        ],\n        password: [\n          {required: true, message: 'Enter Password', trigger: 'blur'},\n          {min: 1, max: 10, message: 'Username between 1 - 10 long', trigger: 'blur'}\n        ]\n      },\n      isRegister: false\n    }\n  },\n  methods: {\n    login() {\n      this.$refs.loginFormRef.validate(async valid => {\n        if (!valid) return;\n        loginAPI(this.loginForm).then(res => {\n          if(res.data.code === 500) {\n            this.$store.dispatch('message/openSnackbar', {\n              msg: res.data.msg,\n              color: 'warning',\n            })\n          }else {\n            this.$store.dispatch('message/openSnackbar', {\n              msg: res.data.msg,\n              color: 'success',\n            })\n            this.$router.push(\"/main\")\n          }\n        }).catch(err => {\n          this.$store.dispatch('message/openSnackbar', {\n            msg: err,\n            color: 'error',\n          })\n        })\n      })\n    },\n    register(){\n      this.isRegister = true\n    },\n    close(){\n      this.isRegister = false\n    }\n  },\n}\n</script>\n\n<style scoped>\n@import \"../assets/css/login.css\";\n</style>"]}]}